# The-Game-based-on-Dijkstra-Algorithm-
This is a easy easy game based on the Dijkstra.  The purpose of the game is to practice the dijestra algorithm, so it reduces the possibility. The game also has a visual interface.
一、程序设计目标
根据设计要求，要达成的目标是一个具有开始菜单界面，游戏界面、使用鼠标进行操作、玩家在有限的时间内通过操纵勇者（红色方块）去拯救公主（绿色方块）从而进行积分的游戏；其中勇者的移动是由玩家通过鼠标点击终点，通过Dijkstra算法找出地图中的最短路径进行的。其界面由Easy-X和c语言编写。

二、问题描述
1、开始游戏的界面的设计。
2、实现地图的显示与随机勇者公主的坐标。
3、实现鼠标获取玩家想要走到的目的地。
4、实现程序判断最短路径的选取。
5、实现勇者的移动显示。
6、实现计时和积分的计算与显示。

三、需求分析（分析问题）（说明课程设计的任务）
本次课程设计的题目是基于Dijkstra算法的勇者找公主游戏。开始游戏界面采用Easy-X绘制，玩家用鼠标选择开始游戏或结束游戏。地图设计为11个点的图，地图采用二维数组储存，遍历二维数组显示相应图片从而绘制地图。公主和勇者的随机采用随机函数。鼠标获取信息采用Easy-X带有的鼠标获取函数判断。最短路径的选取采用数据结构所学的Dijkstra算法。移动显示采用对二维数组的变换和Sleep函数实现。计时器和积分显示采用time函数和Easy-X中函数实现。

1.数据类型
无向图的邻接矩阵：用一个一维数组存放图中所有顶点数据；用一个二维数组存放顶点间边的长度，这个二维数组称为邻接矩阵。
其中对于两点不存在路径的情况，将无边的两点之间距离设为10000；在Dijkstra算法中将其忽略不予考虑。

2.模块功能简介
游戏主流程  main（）：
游戏执行的主体流程，用来调用其他函数实现游戏，其中使用while（1）循环和计时调用实现勇者在规定时间内可以任意移动。
菜单 menu（）和kaishi（）：
menu函数采用Easy-X绘制了简单的游戏菜单函数，内涵开始游戏和结束游戏两个按钮。Kaishi函数内涵鼠标双击进行选择的判断。
加载资源和打印地图函数  loadResource（）和printmap（）：
加载资源函数加载所有地图所需要的图片资源，打印地图函数依据二维数组进行遍历在相应位置显示相应的图片。
随机勇者和公主位置 suijishu（）和sjgz（）：
suijishu函数使用随机函数，在地图上随机出勇者和三名公主的位置信息。sjgz函数对地图中的公主进行判断，并生成新的公主。
最短路径算法 Dijkstra （）：
本函数采用数据结构所学的Dijistra算法，根据玩家点击的鼠标信息作为目的地，算法输出勇者达到目的地最短路径经过的点，并存入lujing数组中。
鼠标信息获取 find（）：
本函数主要通过识别玩家点击的目的地，获取目的地的信息，传入Dijkstra函数。
勇者移动 run（）：
本函数通过Dijkstra给出的lujing数组得到需要经过的路径，通过地图二维数组的变化和Sleep函数、打印地图函数相结合实现勇者的移动。
计时和积分显示 (写在main函数里)：
本模块主要用于计算和显示玩家的得分情况，并对玩家的行动进行倒计时。
![图片](https://user-images.githubusercontent.com/45117470/156285937-5c5f087e-89b0-4c24-877a-40648bf53aa5.png)

四、课程设计总结
本次课程设计收获了不少心得与新的知识：
新的知识：学会了如何从头到尾设计策划一款游戏，学会了使用Easy-X获取鼠标信息的函数，往指定位置输出字符串的函数，将int型和float型转换为字符串的函数， Sleep函数，随机生成数的函数的用法；同时也深入地了解了图的邻接矩阵的表示，寻找最短路径的Dijkstra算法，对数据结构和算法的了解有了进一步的提高。
心得：虽然敲代码很累也很苦，而且自己策划设计的游戏不是那么的有可玩性，找bug找到虚脱，但是有自己的想法并把它实现出来的这个过程非常的有自豪感，当代码中的逻辑错误被发现并且改正的时候，真的感觉非常好。
最后谢谢老师动不动就被我们叫来问问题，老师真的很有耐心，谢谢老师！希望这个游戏老师能稍微满意一点！ 


